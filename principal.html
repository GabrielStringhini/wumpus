<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="game.css">
  <title>Wumpus - Gabriel</title>
</head>

<body>
  <div class="container-fluid mt-4">
    <div class="row mb-2" style="margin-left: auto">
      <div class="col-2">
      </div>
      <div class="col-2">
        <div class="personagem wumpus"></div>
      </div>
      <div class="col-2">
        <div class="personagem brisa"></div>
      </div>
      <div class="col-2">
        <div class="personagem cheiro"></div>
      </div>
      <div class="col-2">
        <div class="personagem caverna"></div>
      </div>
    </div>
    <form class="GET" action="index.html" method="post">
      <div class="row">
        <div class="col-2">
          <input type="number" name="tamanho-tabuleiro" placeholder="Quantidade de casas" id="qnt-casas">
        </div>
        <div class="col-2">
          <input type="number" name="qnt-wumpus" placeholder="Wumpus" id="qnt-wumpus">
        </div>
        <div class="col-2">
          <input type="number" name="qnt-brisa" placeholder="Brisa" id="qnt-brisa">
        </div>
        <div class="col-2">
          <input type="number" name="qnt-fedor" placeholder="Fedor" id="qnt-fedor">
        </div>
        <div class="col-2">
          <input type="number" name="qnt-caverna" placeholder="Caverna" id="qnt-caverna">
        </div>
        <div class="col-1">
          <button type="button" class="btn btn-warning" name="button" id="btn-criar">Criar</button>
        </div>
        <div class="col-1">
          <button type="button" class="btn btn-info" name="button" id="btn-solucionar">Solucionar</button>
        </div>
      </div>
    </form>
    <div class="row mt-5">
      <div class="col-6 d-flex">
        <div style="position: relative;" class="w-100">
          <canvas id="camada2" style="position: absolute; z-index: 0;"></canvas>
          <canvas id="camada1" style="position: absolute; z-index: 1;"></canvas>
        </div>
      </div>
      <div class="col-6 mt-5 border">
        <table id="tabuleiro"></table>
      </div>
    </div>
  </div>
</body>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
  integrity="sha256-4+XzXVhsDmqanXGHaHvgh1gMQKX40OUvDEBTu8JcmNs=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script type="text/javascript" src="game.js"></script>
<script src="grafos.js"></script>
<script>
  $(document).ready(() => {
    $('#btn-criar').on('click', () => {
      const casas = $('#qnt-casas').val();
      const qntWumpus = $('#qnt-wumpus').val();
      const qntBrisa = $('#qnt-brisa').val();
      const qntFedor = $('#qnt-fedor').val();
      const qntCaverna = $('#qnt-caverna').val();

      console.log('casas', casas);
      console.log('wumpus', qntWumpus);
      console.log('brisa', qntBrisa);
      console.log('fedor', qntFedor);
      console.log('caverna', qntCaverna);

      $.ajax({
        url: 'http://localhost:5000/criar-tabuleiro?casas=4&wumpus=1&brisa=2&caverna=2&fedor=2',
        success: tabuleiro => {
          preencheTabuleiroArray(JSON.parse(tabuleiro));
        }
      });
    });
    $('#btn-solucionar').on('click', () => {
      $.ajax({
        url: 'http://localhost:5000/solucionar',
        success: caminho => {
          // Ativar vertices e arestas do caminho no grafo.
          // Fazer ca√ßador percorrer o caminho.
          console.log('caminho', caminho)
        }
      });
    });
  });
</script>

</html>